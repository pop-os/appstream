<?xml version="1.0"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
               "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd"
[
  <!ENTITY % local.common.attrib "xmlns:xi  CDATA  #FIXED 'http://www.w3.org/2003/XInclude'">
]>
<refentry id="appstream-as-xml">
<refmeta>
<refentrytitle role="top_of_page" id="appstream-as-xml.top_of_page">as-xml</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo>APPSTREAM Library</refmiscinfo>
</refmeta>
<refnamediv>
<refname>as-xml</refname>
<refpurpose>Helper functions to parse AppStream XML data</refpurpose>
</refnamediv>

<refsect1 id="appstream-as-xml.functions" role="functions_proto">
<title role="functions_proto.title">Functions</title>
<informaltable pgwide="1" frame="none">
<tgroup cols="2">
<colspec colname="functions_return" colwidth="150px"/>
<colspec colname="functions_name"/>
<tbody>
<row><entry role="function_type"><link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-xml-get-node-value">as_xml_get_node_value</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-xmldata-get-node-locale">as_xmldata_get_node_locale</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-xml-add-children-values-to-array">as_xml_add_children_values_to_array</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="GPtrArray"><returnvalue>GPtrArray</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-xml-get-children-as-string-list">as_xml_get_children_as_string_list</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;**
</entry><entry role="function_name"><link linkend="as-xml-get-children-as-strv">as_xml_get_children_as_strv</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-xml-parse-metainfo-description-node">as_xml_parse_metainfo_description_node</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-xml-dump-node-children">as_xml_dump_node_children</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-xml-add-description-node">as_xml_add_description_node</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-xml-add-localized-text-node">as_xml_add_localized_text_node</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="xmlNode"><returnvalue>xmlNode</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-xml-add-node-list-strv">as_xml_add_node_list_strv</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-xml-add-node-list">as_xml_add_node_list</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="xmlNode"><returnvalue>xmlNode</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-xml-add-text-node">as_xml_add_text_node</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="xmlDoc"><returnvalue>xmlDoc</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-xml-parse-document">as_xml_parse_document</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-xml-node-to-str">as_xml_node_to_str</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>

</tbody>
</tgroup>
</informaltable>
</refsect1>

<refsect1 id="appstream-as-xml.includes"><title>Includes</title><synopsis>#include &lt;appstream.h&gt;
</synopsis></refsect1>

<refsect1 id="appstream-as-xml.description" role="desc">
<title role="desc.title">Description</title>

</refsect1>
<refsect1 id="appstream-as-xml.functions_details" role="details">
<title role="details.title">Functions</title>
<refsect2 id="as-xml-get-node-value" role="function">
<title>as_xml_get_node_value&#160;()</title>
<indexterm zone="as-xml-get-node-value"><primary>as_xml_get_node_value</primary></indexterm>
<programlisting language="C"><link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
as_xml_get_node_value (<parameter><link linkend="xmlNode"><type>xmlNode</type></link> *node</parameter>);</programlisting>
</refsect2>
<refsect2 id="as-xmldata-get-node-locale" role="function">
<title>as_xmldata_get_node_locale&#160;()</title>
<indexterm zone="as-xmldata-get-node-locale"><primary>as_xmldata_get_node_locale</primary></indexterm>
<programlisting language="C"><link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
as_xmldata_get_node_locale (<parameter><link linkend="AsContext"><type>AsContext</type></link> *ctx</parameter>,
                            <parameter><link linkend="xmlNode"><type>xmlNode</type></link> *node</parameter>);</programlisting>
<refsect3 id="as-xmldata-get-node-locale.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>node</para></entry>
<entry role="parameter_description"><para>A XML node</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-xmldata-get-node-locale.returns" role="returns">
<title>Returns</title>
<para> The locale of a node, if the node should be considered for inclusion.
<link linkend="NULL:CAPS"><literal>NULL</literal></link> if the node should be ignored due to a not-matching locale.</para>
</refsect3></refsect2>
<refsect2 id="as-xml-add-children-values-to-array" role="function">
<title>as_xml_add_children_values_to_array&#160;()</title>
<indexterm zone="as-xml-add-children-values-to-array"><primary>as_xml_add_children_values_to_array</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_xml_add_children_values_to_array (<parameter><link linkend="xmlNode"><type>xmlNode</type></link> *node</parameter>,
                                     <parameter>const <link linkend="gchar"><type>gchar</type></link> *element_name</parameter>,
                                     <parameter><link linkend="GPtrArray"><type>GPtrArray</type></link> *array</parameter>);</programlisting>
</refsect2>
<refsect2 id="as-xml-get-children-as-string-list" role="function">
<title>as_xml_get_children_as_string_list&#160;()</title>
<indexterm zone="as-xml-get-children-as-string-list"><primary>as_xml_get_children_as_string_list</primary></indexterm>
<programlisting language="C"><link linkend="GPtrArray"><returnvalue>GPtrArray</returnvalue></link>&#160;*
as_xml_get_children_as_string_list (<parameter><link linkend="xmlNode"><type>xmlNode</type></link> *node</parameter>,
                                    <parameter>const <link linkend="gchar"><type>gchar</type></link> *element_name</parameter>);</programlisting>
</refsect2>
<refsect2 id="as-xml-get-children-as-strv" role="function">
<title>as_xml_get_children_as_strv&#160;()</title>
<indexterm zone="as-xml-get-children-as-strv"><primary>as_xml_get_children_as_strv</primary></indexterm>
<programlisting language="C"><link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;**
as_xml_get_children_as_strv (<parameter><link linkend="xmlNode"><type>xmlNode</type></link> *node</parameter>,
                             <parameter>const <link linkend="gchar"><type>gchar</type></link> *element_name</parameter>);</programlisting>
</refsect2>
<refsect2 id="as-xml-parse-metainfo-description-node" role="function">
<title>as_xml_parse_metainfo_description_node&#160;()</title>
<indexterm zone="as-xml-parse-metainfo-description-node"><primary>as_xml_parse_metainfo_description_node</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_xml_parse_metainfo_description_node
                               (<parameter><link linkend="AsContext"><type>AsContext</type></link> *ctx</parameter>,
                                <parameter><link linkend="xmlNode"><type>xmlNode</type></link> *node</parameter>,
                                <parameter><link linkend="GHFunc"><type>GHFunc</type></link> func</parameter>,
                                <parameter><link linkend="gpointer"><type>gpointer</type></link> entity</parameter>);</programlisting>
</refsect2>
<refsect2 id="as-xml-dump-node-children" role="function">
<title>as_xml_dump_node_children&#160;()</title>
<indexterm zone="as-xml-dump-node-children"><primary>as_xml_dump_node_children</primary></indexterm>
<programlisting language="C"><link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
as_xml_dump_node_children (<parameter><link linkend="xmlNode"><type>xmlNode</type></link> *node</parameter>);</programlisting>
</refsect2>
<refsect2 id="as-xml-add-description-node" role="function">
<title>as_xml_add_description_node&#160;()</title>
<indexterm zone="as-xml-add-description-node"><primary>as_xml_add_description_node</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_xml_add_description_node (<parameter><link linkend="AsContext"><type>AsContext</type></link> *ctx</parameter>,
                             <parameter><link linkend="xmlNode"><type>xmlNode</type></link> *root</parameter>,
                             <parameter><link linkend="GHashTable"><type>GHashTable</type></link> *desc_table</parameter>);</programlisting>
<para>Add a description node to the XML document tree.</para>
</refsect2>
<refsect2 id="as-xml-add-localized-text-node" role="function">
<title>as_xml_add_localized_text_node&#160;()</title>
<indexterm zone="as-xml-add-localized-text-node"><primary>as_xml_add_localized_text_node</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_xml_add_localized_text_node (<parameter><link linkend="xmlNode"><type>xmlNode</type></link> *root</parameter>,
                                <parameter>const <link linkend="gchar"><type>gchar</type></link> *node_name</parameter>,
                                <parameter><link linkend="GHashTable"><type>GHashTable</type></link> *value_table</parameter>);</programlisting>
<para>Add set of localized XML nodes based on a localization table.</para>
</refsect2>
<refsect2 id="as-xml-add-node-list-strv" role="function">
<title>as_xml_add_node_list_strv&#160;()</title>
<indexterm zone="as-xml-add-node-list-strv"><primary>as_xml_add_node_list_strv</primary></indexterm>
<programlisting language="C"><link linkend="xmlNode"><returnvalue>xmlNode</returnvalue></link>&#160;*
as_xml_add_node_list_strv (<parameter><link linkend="xmlNode"><type>xmlNode</type></link> *root</parameter>,
                           <parameter>const <link linkend="gchar"><type>gchar</type></link> *name</parameter>,
                           <parameter>const <link linkend="gchar"><type>gchar</type></link> *child_name</parameter>,
                           <parameter><link linkend="gchar"><type>gchar</type></link> **strv</parameter>);</programlisting>
<para>Add node with a list of children containing the strv contents.</para>
</refsect2>
<refsect2 id="as-xml-add-node-list" role="function">
<title>as_xml_add_node_list&#160;()</title>
<indexterm zone="as-xml-add-node-list"><primary>as_xml_add_node_list</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_xml_add_node_list (<parameter><link linkend="xmlNode"><type>xmlNode</type></link> *root</parameter>,
                      <parameter>const <link linkend="gchar"><type>gchar</type></link> *name</parameter>,
                      <parameter>const <link linkend="gchar"><type>gchar</type></link> *child_name</parameter>,
                      <parameter><link linkend="GPtrArray"><type>GPtrArray</type></link> *array</parameter>);</programlisting>
<para>Add node with a list of children containing the string array contents.</para>
</refsect2>
<refsect2 id="as-xml-add-text-node" role="function">
<title>as_xml_add_text_node&#160;()</title>
<indexterm zone="as-xml-add-text-node"><primary>as_xml_add_text_node</primary></indexterm>
<programlisting language="C"><link linkend="xmlNode"><returnvalue>xmlNode</returnvalue></link>&#160;*
as_xml_add_text_node (<parameter><link linkend="xmlNode"><type>xmlNode</type></link> *root</parameter>,
                      <parameter>const <link linkend="gchar"><type>gchar</type></link> *name</parameter>,
                      <parameter>const <link linkend="gchar"><type>gchar</type></link> *value</parameter>);</programlisting>
<para>Add node if value is not empty</para>
</refsect2>
<refsect2 id="as-xml-parse-document" role="function">
<title>as_xml_parse_document&#160;()</title>
<indexterm zone="as-xml-parse-document"><primary>as_xml_parse_document</primary></indexterm>
<programlisting language="C"><link linkend="xmlDoc"><returnvalue>xmlDoc</returnvalue></link>&#160;*
as_xml_parse_document (<parameter>const <link linkend="gchar"><type>gchar</type></link> *data</parameter>,
                       <parameter><link linkend="GError"><type>GError</type></link> **error</parameter>);</programlisting>
<para>
</para>
</refsect2>
<refsect2 id="as-xml-node-to-str" role="function">
<title>as_xml_node_to_str&#160;()</title>
<indexterm zone="as-xml-node-to-str"><primary>as_xml_node_to_str</primary></indexterm>
<programlisting language="C"><link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
as_xml_node_to_str (<parameter><link linkend="xmlNode"><type>xmlNode</type></link> *root</parameter>,
                    <parameter><link linkend="GError"><type>GError</type></link> **error</parameter>);</programlisting>
<para>Converts an XML node into its textural representation.</para>
<refsect3 id="as-xml-node-to-str.returns" role="returns">
<title>Returns</title>
<para> XML metadata.</para>
</refsect3></refsect2>

</refsect1>
<refsect1 id="appstream-as-xml.other_details" role="details">
<title role="details.title">Types and Values</title>

</refsect1>

</refentry>
