<?xml version="1.0"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
               "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd"
[
  <!ENTITY % local.common.attrib "xmlns:xi  CDATA  #FIXED 'http://www.w3.org/2003/XInclude'">
]>
<refentry id="AsMetadata">
<refmeta>
<refentrytitle role="top_of_page" id="AsMetadata.top_of_page">AsMetadata</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo>APPSTREAM Library</refmiscinfo>
</refmeta>
<refnamediv>
<refname>AsMetadata</refname>
<refpurpose>Parser for AppStream metadata</refpurpose>
</refnamediv>

<refsect1 id="AsMetadata.functions" role="functions_proto">
<title role="functions_proto.title">Functions</title>
<informaltable pgwide="1" frame="none">
<tgroup cols="2">
<colspec colname="functions_return" colwidth="150px"/>
<colspec colname="functions_name"/>
<tbody>
<row><entry role="function_type">const <link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-format-kind-to-string">as_format_kind_to_string</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="AsFormatKind"><returnvalue>AsFormatKind</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-format-kind-from-string">as_format_kind_from_string</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type">const <link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-format-version-to-string">as_format_version_to_string</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="AsFormatVersion"><returnvalue>AsFormatVersion</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-format-version-from-string">as_format_version_from_string</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="AsMetadata"><returnvalue>AsMetadata</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-metadata-new">as_metadata_new</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="GQuark"><returnvalue>GQuark</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-error-quark">as_metadata_error_quark</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-parse-file">as_metadata_parse_file</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-parse">as_metadata_parse</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-parse-desktop-data">as_metadata_parse_desktop_data</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="AsComponent"><returnvalue>AsComponent</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-metadata-get-component">as_metadata_get_component</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="GPtrArray"><returnvalue>GPtrArray</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-metadata-get-components">as_metadata_get_components</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-clear-components">as_metadata_clear_components</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-add-component">as_metadata_add_component</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-metadata-component-to-metainfo">as_metadata_component_to_metainfo</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-save-metainfo">as_metadata_save_metainfo</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-metadata-components-to-collection">as_metadata_components_to_collection</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-save-collection">as_metadata_save_collection</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="AsFormatVersion"><returnvalue>AsFormatVersion</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-get-format-version">as_metadata_get_format_version</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-set-format-version">as_metadata_set_format_version</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="AsFormatStyle"><returnvalue>AsFormatStyle</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-get-format-style">as_metadata_get_format_style</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-set-format-style">as_metadata_set_format_style</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-set-locale">as_metadata_set_locale</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type">const <link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-metadata-get-locale">as_metadata_get_locale</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type">const <link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-metadata-get-origin">as_metadata_get_origin</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-set-origin">as_metadata_set_origin</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-get-update-existing">as_metadata_get_update_existing</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-set-update-existing">as_metadata_set_update_existing</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-get-write-header">as_metadata_get_write_header</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-set-write-header">as_metadata_set_write_header</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type">const <link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
</entry><entry role="function_name"><link linkend="as-metadata-get-architecture">as_metadata_get_architecture</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>
<row><entry role="function_type"><link linkend="void"><returnvalue>void</returnvalue></link>
</entry><entry role="function_name"><link linkend="as-metadata-set-architecture">as_metadata_set_architecture</link>&#160;<phrase role="c_punctuation">()</phrase></entry></row>

</tbody>
</tgroup>
</informaltable>
</refsect1>
<refsect1 id="AsMetadata.other" role="other_proto">
<title role="other_proto.title">Types and Values</title>
<informaltable role="enum_members_table" pgwide="1" frame="none">
<tgroup cols="2">
<colspec colname="name" colwidth="150px"/>
<colspec colname="description"/>
<tbody>
<row><entry role="define_keyword">#define</entry><entry role="function_name"><link linkend="AS-TYPE-METADATA:CAPS">AS_TYPE_METADATA</link></entry></row>
<row><entry role="datatype_keyword">struct</entry><entry role="function_name"><link linkend="AsMetadataClass">AsMetadataClass</link></entry></row>
<row><entry role="datatype_keyword">enum</entry><entry role="function_name"><link linkend="AsFormatStyle">AsFormatStyle</link></entry></row>
<row><entry role="datatype_keyword">enum</entry><entry role="function_name"><link linkend="AsFormatKind">AsFormatKind</link></entry></row>
<row><entry role="datatype_keyword">enum</entry><entry role="function_name"><link linkend="AsFormatVersion">AsFormatVersion</link></entry></row>
<row><entry role="define_keyword">#define</entry><entry role="function_name"><link linkend="AS-CURRENT-FORMAT-VERSION:CAPS">AS_CURRENT_FORMAT_VERSION</link></entry></row>
<row><entry role="datatype_keyword">enum</entry><entry role="function_name"><link linkend="AsMetadataError">AsMetadataError</link></entry></row>
<row><entry role="define_keyword">#define</entry><entry role="function_name"><link linkend="AS-METADATA-ERROR:CAPS">AS_METADATA_ERROR</link></entry></row>
<row><entry role="datatype_keyword"></entry><entry role="function_name"><link linkend="AsMetadata-struct">AsMetadata</link></entry></row>

</tbody>
</tgroup>
</informaltable>
</refsect1>
<refsect1 id="AsMetadata.object-hierarchy" role="object_hierarchy">
<title role="object_hierarchy.title">Object Hierarchy</title>
<screen>    <link linkend="GObject">GObject</link>
    <phrase role="lineart">&#9584;&#9472;&#9472;</phrase> AsMetadata
</screen>
</refsect1>

<refsect1 id="AsMetadata.includes"><title>Includes</title><synopsis>#include &lt;appstream.h&gt;
</synopsis></refsect1>

<refsect1 id="AsMetadata.description" role="desc">
<title role="desc.title">Description</title>
<para>This object parses AppStream metadata, including AppStream
upstream metadata, which is defined by upstream projects.
It returns an <link linkend="AsComponent"><type>AsComponent</type></link> of the data.</para>
<para>See also: <link linkend="AsComponent"><type>AsComponent</type></link>, <link linkend="AsDatabase"><type>AsDatabase</type></link></para>

</refsect1>
<refsect1 id="AsMetadata.functions_details" role="details">
<title role="details.title">Functions</title>
<refsect2 id="as-format-kind-to-string" role="function" condition="since:0.10">
<title>as_format_kind_to_string&#160;()</title>
<indexterm zone="as-format-kind-to-string" role="0.10"><primary>as_format_kind_to_string</primary></indexterm>
<programlisting language="C">const <link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
as_format_kind_to_string (<parameter><link linkend="AsFormatKind"><type>AsFormatKind</type></link> kind</parameter>);</programlisting>
<para>Converts the enumerated value to an text representation.</para>
<refsect3 id="as-format-kind-to-string.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>kind</para></entry>
<entry role="parameter_description"><para>the <link linkend="AsFormatKind"><type>AsFormatKind</type></link>.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-format-kind-to-string.returns" role="returns">
<title>Returns</title>
<para> string version of <parameter>kind</parameter>
</para>
</refsect3><para role="since">Since: <link linkend="api-index-0.10">0.10</link></para></refsect2>
<refsect2 id="as-format-kind-from-string" role="function" condition="since:0.10">
<title>as_format_kind_from_string&#160;()</title>
<indexterm zone="as-format-kind-from-string" role="0.10"><primary>as_format_kind_from_string</primary></indexterm>
<programlisting language="C"><link linkend="AsFormatKind"><returnvalue>AsFormatKind</returnvalue></link>
as_format_kind_from_string (<parameter>const <link linkend="gchar"><type>gchar</type></link> *kind_str</parameter>);</programlisting>
<para>Converts the text representation to an enumerated value.</para>
<refsect3 id="as-format-kind-from-string.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>kind_str</para></entry>
<entry role="parameter_description"><para>the string.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-format-kind-from-string.returns" role="returns">
<title>Returns</title>
<para> a <link linkend="AsFormatKind"><type>AsFormatKind</type></link> or <link linkend="AS-FORMAT-KIND-UNKNOWN:CAPS"><literal>AS_FORMAT_KIND_UNKNOWN</literal></link> for unknown</para>
</refsect3><para role="since">Since: <link linkend="api-index-0.10">0.10</link></para></refsect2>
<refsect2 id="as-format-version-to-string" role="function" condition="since:0.10">
<title>as_format_version_to_string&#160;()</title>
<indexterm zone="as-format-version-to-string" role="0.10"><primary>as_format_version_to_string</primary></indexterm>
<programlisting language="C">const <link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
as_format_version_to_string (<parameter><link linkend="AsFormatVersion"><type>AsFormatVersion</type></link> version</parameter>);</programlisting>
<para>Converts the enumerated value to an text representation.</para>
<refsect3 id="as-format-version-to-string.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>version</para></entry>
<entry role="parameter_description"><para>the <link linkend="AsFormatKind"><type>AsFormatKind</type></link>.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-format-version-to-string.returns" role="returns">
<title>Returns</title>
<para> string version of <parameter>version</parameter>
</para>
</refsect3><para role="since">Since: <link linkend="api-index-0.10">0.10</link></para></refsect2>
<refsect2 id="as-format-version-from-string" role="function" condition="since:0.10">
<title>as_format_version_from_string&#160;()</title>
<indexterm zone="as-format-version-from-string" role="0.10"><primary>as_format_version_from_string</primary></indexterm>
<programlisting language="C"><link linkend="AsFormatVersion"><returnvalue>AsFormatVersion</returnvalue></link>
as_format_version_from_string (<parameter>const <link linkend="gchar"><type>gchar</type></link> *version_str</parameter>);</programlisting>
<para>Converts the text representation to an enumerated value.</para>
<refsect3 id="as-format-version-from-string.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>version_str</para></entry>
<entry role="parameter_description"><para>the string.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-format-version-from-string.returns" role="returns">
<title>Returns</title>
<para> a <link linkend="AsFormatVersion"><type>AsFormatVersion</type></link>. For unknown, the highest version
number is assumed.</para>
</refsect3><para role="since">Since: <link linkend="api-index-0.10">0.10</link></para></refsect2>
<refsect2 id="as-metadata-new" role="function">
<title>as_metadata_new&#160;()</title>
<indexterm zone="as-metadata-new"><primary>as_metadata_new</primary></indexterm>
<programlisting language="C"><link linkend="AsMetadata"><returnvalue>AsMetadata</returnvalue></link>&#160;*
as_metadata_new (<parameter><type>void</type></parameter>);</programlisting>
<para>Creates a new <link linkend="AsMetadata"><type>AsMetadata</type></link>.</para>
<refsect3 id="as-metadata-new.returns" role="returns">
<title>Returns</title>
<para> a <link linkend="AsMetadata"><type>AsMetadata</type></link>. </para>
<para><emphasis role="annotation">[<acronym>transfer full</acronym>]</emphasis></para>
</refsect3></refsect2>
<refsect2 id="as-metadata-error-quark" role="function">
<title>as_metadata_error_quark&#160;()</title>
<indexterm zone="as-metadata-error-quark"><primary>as_metadata_error_quark</primary></indexterm>
<programlisting language="C"><link linkend="GQuark"><returnvalue>GQuark</returnvalue></link>
as_metadata_error_quark (<parameter><type>void</type></parameter>);</programlisting>
<refsect3 id="as-metadata-error-quark.returns" role="returns">
<title>Returns</title>
<para> An error quark.</para>
</refsect3></refsect2>
<refsect2 id="as-metadata-parse-file" role="function">
<title>as_metadata_parse_file&#160;()</title>
<indexterm zone="as-metadata-parse-file"><primary>as_metadata_parse_file</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_metadata_parse_file (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                        <parameter><link linkend="GFile"><type>GFile</type></link> *file</parameter>,
                        <parameter><link linkend="AsFormatKind"><type>AsFormatKind</type></link> format</parameter>,
                        <parameter><link linkend="GError"><type>GError</type></link> **error</parameter>);</programlisting>
<para>Parses an AppStream upstream metadata file.</para>
<refsect3 id="as-metadata-parse-file.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>A valid <link linkend="AsMetadata"><type>AsMetadata</type></link> instance</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>file</para></entry>
<entry role="parameter_description"><para><link linkend="GFile"><type>GFile</type></link> for the upstream metadata</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>format</para></entry>
<entry role="parameter_description"><para>The format the data is in, or <link linkend="AS-FORMAT-KIND-UNKNOWN:CAPS"><literal>AS_FORMAT_KIND_UNKNOWN</literal></link> if not known.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>error</para></entry>
<entry role="parameter_description"><para>A <link linkend="GError"><type>GError</type></link> or <link linkend="NULL:CAPS"><literal>NULL</literal></link>.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="as-metadata-parse" role="function">
<title>as_metadata_parse&#160;()</title>
<indexterm zone="as-metadata-parse"><primary>as_metadata_parse</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_metadata_parse (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                   <parameter>const <link linkend="gchar"><type>gchar</type></link> *data</parameter>,
                   <parameter><link linkend="AsFormatKind"><type>AsFormatKind</type></link> format</parameter>,
                   <parameter><link linkend="GError"><type>GError</type></link> **error</parameter>);</programlisting>
<para>Parses AppStream metadata.</para>
<refsect3 id="as-metadata-parse.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>An instance of <link linkend="AsMetadata"><type>AsMetadata</type></link>.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>data</para></entry>
<entry role="parameter_description"><para>Metadata describing one or more software components.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>format</para></entry>
<entry role="parameter_description"><para>The format of the data (XML or YAML).</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>error</para></entry>
<entry role="parameter_description"><para>A <link linkend="GError"><type>GError</type></link> or <link linkend="NULL:CAPS"><literal>NULL</literal></link>.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="as-metadata-parse-desktop-data" role="function">
<title>as_metadata_parse_desktop_data&#160;()</title>
<indexterm zone="as-metadata-parse-desktop-data"><primary>as_metadata_parse_desktop_data</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_metadata_parse_desktop_data (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                                <parameter>const <link linkend="gchar"><type>gchar</type></link> *data</parameter>,
                                <parameter>const <link linkend="gchar"><type>gchar</type></link> *cid</parameter>,
                                <parameter><link linkend="GError"><type>GError</type></link> **error</parameter>);</programlisting>
<para>Parses XDG Desktop Entry metadata and adds it to the pool.</para>
<refsect3 id="as-metadata-parse-desktop-data.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>An instance of <link linkend="AsMetadata"><type>AsMetadata</type></link>.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>data</para></entry>
<entry role="parameter_description"><para>Metadata describing one or more software components.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>cid</para></entry>
<entry role="parameter_description"><para>The component-id the new <link linkend="AsComponent"><type>AsComponent</type></link> should have.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>error</para></entry>
<entry role="parameter_description"><para>A <link linkend="GError"><type>GError</type></link> or <link linkend="NULL:CAPS"><literal>NULL</literal></link>.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="as-metadata-get-component" role="function">
<title>as_metadata_get_component&#160;()</title>
<indexterm zone="as-metadata-get-component"><primary>as_metadata_get_component</primary></indexterm>
<programlisting language="C"><link linkend="AsComponent"><returnvalue>AsComponent</returnvalue></link>&#160;*
as_metadata_get_component (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>);</programlisting>
<para>Gets the <link linkend="AsComponent"><type>AsComponent</type></link> which has been parsed from the XML.
If the AppStream XML contained multiple components, return the first
component that has been parsed.</para>
<refsect3 id="as-metadata-get-component.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>a <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-metadata-get-component.returns" role="returns">
<title>Returns</title>
<para> An <link linkend="AsComponent"><type>AsComponent</type></link> or <link linkend="NULL:CAPS"><literal>NULL</literal></link>. </para>
<para><emphasis role="annotation">[<acronym>transfer none</acronym>]</emphasis></para>
</refsect3></refsect2>
<refsect2 id="as-metadata-get-components" role="function">
<title>as_metadata_get_components&#160;()</title>
<indexterm zone="as-metadata-get-components"><primary>as_metadata_get_components</primary></indexterm>
<programlisting language="C"><link linkend="GPtrArray"><returnvalue>GPtrArray</returnvalue></link>&#160;*
as_metadata_get_components (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>);</programlisting>
<refsect3 id="as-metadata-get-components.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>a <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-metadata-get-components.returns" role="returns">
<title>Returns</title>
<para> A <link linkend="GPtrArray"><type>GPtrArray</type></link> of all parsed components. </para>
<para><emphasis role="annotation">[<acronym>transfer none</acronym>][<acronym>element-type</acronym> AsComponent]</emphasis></para>
</refsect3></refsect2>
<refsect2 id="as-metadata-clear-components" role="function">
<title>as_metadata_clear_components&#160;()</title>
<indexterm zone="as-metadata-clear-components"><primary>as_metadata_clear_components</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_metadata_clear_components (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>);</programlisting>
</refsect2>
<refsect2 id="as-metadata-add-component" role="function">
<title>as_metadata_add_component&#160;()</title>
<indexterm zone="as-metadata-add-component"><primary>as_metadata_add_component</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_metadata_add_component (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                           <parameter><link linkend="AsComponent"><type>AsComponent</type></link> *cpt</parameter>);</programlisting>
<para>Add an <link linkend="AsComponent"><type>AsComponent</type></link> to the list of components.
This can be used to add multiple components in order to
produce a distro-XML AppStream metadata file.</para>
</refsect2>
<refsect2 id="as-metadata-component-to-metainfo" role="function">
<title>as_metadata_component_to_metainfo&#160;()</title>
<indexterm zone="as-metadata-component-to-metainfo"><primary>as_metadata_component_to_metainfo</primary></indexterm>
<programlisting language="C"><link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
as_metadata_component_to_metainfo (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                                   <parameter><link linkend="AsFormatKind"><type>AsFormatKind</type></link> format</parameter>,
                                   <parameter><link linkend="GError"><type>GError</type></link> **error</parameter>);</programlisting>
<para>Convert an <link linkend="AsComponent"><type>AsComponent</type></link> to metainfo data.
This will always be XML, YAML is no valid format for metainfo files.</para>
<para>The amount of localization included in the metadata depends on how the <link linkend="AsComponent"><type>AsComponent</type></link>
was initially loaded and whether it contains data for all locale.</para>
<para>The first <link linkend="AsComponent"><type>AsComponent</type></link> added to the internal list will be transformed.
In case no component is present, <link linkend="NULL:CAPS"><literal>NULL</literal></link> is returned.</para>
<refsect3 id="as-metadata-component-to-metainfo.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>An instance of <link linkend="AsMetadata"><type>AsMetadata</type></link>.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>format</para></entry>
<entry role="parameter_description"><para>The format to use (XML or YAML)</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>error</para></entry>
<entry role="parameter_description"><para>A <link linkend="GError"><type>GError</type></link></para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-metadata-component-to-metainfo.returns" role="returns">
<title>Returns</title>
<para> A string containing the XML metadata. Free with <link linkend="g-free"><function>g_free()</function></link>. </para>
<para><emphasis role="annotation">[<acronym>transfer full</acronym>]</emphasis></para>
</refsect3></refsect2>
<refsect2 id="as-metadata-save-metainfo" role="function">
<title>as_metadata_save_metainfo&#160;()</title>
<indexterm zone="as-metadata-save-metainfo"><primary>as_metadata_save_metainfo</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_metadata_save_metainfo (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                           <parameter>const <link linkend="gchar"><type>gchar</type></link> *fname</parameter>,
                           <parameter><link linkend="AsFormatKind"><type>AsFormatKind</type></link> format</parameter>,
                           <parameter><link linkend="GError"><type>GError</type></link> **error</parameter>);</programlisting>
<para>Serialize <link linkend="AsComponent"><type>AsComponent</type></link> instance to XML and save it to file.
An existing file at the same location will be overridden.</para>
<refsect3 id="as-metadata-save-metainfo.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>fname</para></entry>
<entry role="parameter_description"><para>The filename for the new metadata file.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>format</para></entry>
<entry role="parameter_description"><para>The format to save this file in. Only XML is supported at time.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="as-metadata-components-to-collection" role="function">
<title>as_metadata_components_to_collection&#160;()</title>
<indexterm zone="as-metadata-components-to-collection"><primary>as_metadata_components_to_collection</primary></indexterm>
<programlisting language="C"><link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
as_metadata_components_to_collection (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                                      <parameter><link linkend="AsFormatKind"><type>AsFormatKind</type></link> format</parameter>,
                                      <parameter><link linkend="GError"><type>GError</type></link> **error</parameter>);</programlisting>
<para>Serialize all <link linkend="AsComponent"><type>AsComponent</type></link> instances into AppStream
collection metadata.
<link linkend="NULL:CAPS"><literal>NULL</literal></link> is returned if there is nothing to serialize.</para>
<refsect3 id="as-metadata-components-to-collection.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>An instance of <link linkend="AsMetadata"><type>AsMetadata</type></link>.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>format</para></entry>
<entry role="parameter_description"><para>The format to serialize the data to (XML or YAML).</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>error</para></entry>
<entry role="parameter_description"><para>A <link linkend="GError"><type>GError</type></link></para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-metadata-components-to-collection.returns" role="returns">
<title>Returns</title>
<para> A string containing the YAML or XML data. Free with <link linkend="g-free"><function>g_free()</function></link>. </para>
<para><emphasis role="annotation">[<acronym>transfer full</acronym>]</emphasis></para>
</refsect3></refsect2>
<refsect2 id="as-metadata-save-collection" role="function">
<title>as_metadata_save_collection&#160;()</title>
<indexterm zone="as-metadata-save-collection"><primary>as_metadata_save_collection</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_metadata_save_collection (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                             <parameter>const <link linkend="gchar"><type>gchar</type></link> *fname</parameter>,
                             <parameter><link linkend="AsFormatKind"><type>AsFormatKind</type></link> format</parameter>,
                             <parameter><link linkend="GError"><type>GError</type></link> **error</parameter>);</programlisting>
<para>
</para>
</refsect2>
<refsect2 id="as-metadata-get-format-version" role="function">
<title>as_metadata_get_format_version&#160;()</title>
<indexterm zone="as-metadata-get-format-version"><primary>as_metadata_get_format_version</primary></indexterm>
<programlisting language="C"><link linkend="AsFormatVersion"><returnvalue>AsFormatVersion</returnvalue></link>
as_metadata_get_format_version (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>);</programlisting>
<refsect3 id="as-metadata-get-format-version.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>an <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-metadata-get-format-version.returns" role="returns">
<title>Returns</title>
<para> The AppStream metadata format version.</para>
</refsect3></refsect2>
<refsect2 id="as-metadata-set-format-version" role="function">
<title>as_metadata_set_format_version&#160;()</title>
<indexterm zone="as-metadata-set-format-version"><primary>as_metadata_set_format_version</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_metadata_set_format_version (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                                <parameter><link linkend="AsFormatVersion"><type>AsFormatVersion</type></link> version</parameter>);</programlisting>
<para>Set the current AppStream format version that we should generate data for
or be able to read.</para>
<refsect3 id="as-metadata-set-format-version.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>a <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>version</para></entry>
<entry role="parameter_description"><para>the AppStream metadata format version as <link linkend="AsFormatVersion"><type>AsFormatVersion</type></link>.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="as-metadata-get-format-style" role="function">
<title>as_metadata_get_format_style&#160;()</title>
<indexterm zone="as-metadata-get-format-style"><primary>as_metadata_get_format_style</primary></indexterm>
<programlisting language="C"><link linkend="AsFormatStyle"><returnvalue>AsFormatStyle</returnvalue></link>
as_metadata_get_format_style (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>);</programlisting>
<para>Get the metadata parsing mode.</para>
<refsect3 id="as-metadata-get-format-style.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>a <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="as-metadata-set-format-style" role="function">
<title>as_metadata_set_format_style&#160;()</title>
<indexterm zone="as-metadata-set-format-style"><primary>as_metadata_set_format_style</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_metadata_set_format_style (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                              <parameter><link linkend="AsFormatStyle"><type>AsFormatStyle</type></link> mode</parameter>);</programlisting>
<para>Sets the current metadata parsing mode.</para>
<refsect3 id="as-metadata-set-format-style.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>a <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>mode</para></entry>
<entry role="parameter_description"><para>the <link linkend="AsFormatStyle"><type>AsFormatStyle</type></link>.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="as-metadata-set-locale" role="function">
<title>as_metadata_set_locale&#160;()</title>
<indexterm zone="as-metadata-set-locale"><primary>as_metadata_set_locale</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_metadata_set_locale (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                        <parameter>const <link linkend="gchar"><type>gchar</type></link> *locale</parameter>);</programlisting>
<para>Sets the locale which should be read when processing metadata.
All other locales are ignored, which increases parsing speed and
reduces memory usage.
If you set the locale to "ALL", all locales will be read.</para>
<refsect3 id="as-metadata-set-locale.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>a <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>locale</para></entry>
<entry role="parameter_description"><para>the locale.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="as-metadata-get-locale" role="function">
<title>as_metadata_get_locale&#160;()</title>
<indexterm zone="as-metadata-get-locale"><primary>as_metadata_get_locale</primary></indexterm>
<programlisting language="C">const <link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
as_metadata_get_locale (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>);</programlisting>
<para>Gets the current active locale for parsing metadata,
or "ALL" if all locales are read.</para>
<refsect3 id="as-metadata-get-locale.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>a <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-metadata-get-locale.returns" role="returns">
<title>Returns</title>
<para> Locale used for metadata parsing.</para>
</refsect3></refsect2>
<refsect2 id="as-metadata-get-origin" role="function">
<title>as_metadata_get_origin&#160;()</title>
<indexterm zone="as-metadata-get-origin"><primary>as_metadata_get_origin</primary></indexterm>
<programlisting language="C">const <link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
as_metadata_get_origin (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>);</programlisting>
<refsect3 id="as-metadata-get-origin.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>an <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-metadata-get-origin.returns" role="returns">
<title>Returns</title>
<para> The origin of AppStream distro metadata</para>
</refsect3></refsect2>
<refsect2 id="as-metadata-set-origin" role="function">
<title>as_metadata_set_origin&#160;()</title>
<indexterm zone="as-metadata-set-origin"><primary>as_metadata_set_origin</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_metadata_set_origin (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                        <parameter>const <link linkend="gchar"><type>gchar</type></link> *origin</parameter>);</programlisting>
<para>Set the origin of AppStream distro metadata</para>
<refsect3 id="as-metadata-set-origin.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>an <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>origin</para></entry>
<entry role="parameter_description"><para>the origin of AppStream distro metadata.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="as-metadata-get-update-existing" role="function">
<title>as_metadata_get_update_existing&#160;()</title>
<indexterm zone="as-metadata-get-update-existing"><primary>as_metadata_get_update_existing</primary></indexterm>
<programlisting language="C"><link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>
as_metadata_get_update_existing (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>);</programlisting>
<refsect3 id="as-metadata-get-update-existing.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>an <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-metadata-get-update-existing.returns" role="returns">
<title>Returns</title>
<para> Whether existing components should be updates with the parsed data,
instead of creating new ones.</para>
</refsect3></refsect2>
<refsect2 id="as-metadata-set-update-existing" role="function">
<title>as_metadata_set_update_existing&#160;()</title>
<indexterm zone="as-metadata-set-update-existing"><primary>as_metadata_set_update_existing</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_metadata_set_update_existing (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                                 <parameter><link linkend="gboolean"><type>gboolean</type></link> update</parameter>);</programlisting>
<para>If set to <link linkend="TRUE:CAPS"><literal>TRUE</literal></link>, the parser will not create new components but
instead update existing components in the pool with new metadata.</para>
<para>NOTE: Right now, this feature is only implemented for metainfo XML parsing!</para>
<refsect3 id="as-metadata-set-update-existing.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>an <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>update</para></entry>
<entry role="parameter_description"><para>A boolean value.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="as-metadata-get-write-header" role="function">
<title>as_metadata_get_write_header&#160;()</title>
<indexterm zone="as-metadata-get-write-header"><primary>as_metadata_get_write_header</primary></indexterm>
<programlisting language="C"><link linkend="gboolean"><returnvalue>gboolean</returnvalue></link>
as_metadata_get_write_header (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>);</programlisting>
<refsect3 id="as-metadata-get-write-header.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>an <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-metadata-get-write-header.returns" role="returns">
<title>Returns</title>
<para> Whether we will write a header/root node in collection metadata.</para>
</refsect3></refsect2>
<refsect2 id="as-metadata-set-write-header" role="function">
<title>as_metadata_set_write_header&#160;()</title>
<indexterm zone="as-metadata-set-write-header"><primary>as_metadata_set_write_header</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_metadata_set_write_header (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                              <parameter><link linkend="gboolean"><type>gboolean</type></link> wheader</parameter>);</programlisting>
<para>If set to <link linkend="TRUE:CAPS"><literal>TRUE</literal></link>, tehe metadata writer will omit writing a DEP-11
header document when in YAML mode, and will not write a root components node
when writing XML data.
Please keep in mind that this will create an invalid DEP-11 YAML AppStream
collection metadata file, and an invalid XML file.
This parameter should only be changed e.g. by the appstream-generator tool.</para>
<para>NOTE: Right now, this feature is only implemented for YAML!</para>
<refsect3 id="as-metadata-set-write-header.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>an <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>wheader</para></entry>
<entry role="parameter_description"><para>A boolean value.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="as-metadata-get-architecture" role="function">
<title>as_metadata_get_architecture&#160;()</title>
<indexterm zone="as-metadata-get-architecture"><primary>as_metadata_get_architecture</primary></indexterm>
<programlisting language="C">const <link linkend="gchar"><returnvalue>gchar</returnvalue></link>&#160;*
as_metadata_get_architecture (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>);</programlisting>
<refsect3 id="as-metadata-get-architecture.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>an <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3><refsect3 id="as-metadata-get-architecture.returns" role="returns">
<title>Returns</title>
<para> The architecture of AppStream distro metadata</para>
</refsect3></refsect2>
<refsect2 id="as-metadata-set-architecture" role="function">
<title>as_metadata_set_architecture&#160;()</title>
<indexterm zone="as-metadata-set-architecture"><primary>as_metadata_set_architecture</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
as_metadata_set_architecture (<parameter><link linkend="AsMetadata"><type>AsMetadata</type></link> *metad</parameter>,
                              <parameter>const <link linkend="gchar"><type>gchar</type></link> *arch</parameter>);</programlisting>
<para>Set the architecture the components in this metadata belong to.</para>
<refsect3 id="as-metadata-set-architecture.parameters" role="parameters">
<title>Parameters</title>
<informaltable role="parameters_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>metad</para></entry>
<entry role="parameter_description"><para>an <link linkend="AsMetadata"><type>AsMetadata</type></link> instance.</para></entry>
<entry role="parameter_annotations"></entry></row>
<row><entry role="parameter_name"><para>arch</para></entry>
<entry role="parameter_description"><para>an architecture string.</para></entry>
<entry role="parameter_annotations"></entry></row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>

</refsect1>
<refsect1 id="AsMetadata.other_details" role="details">
<title role="details.title">Types and Values</title>
<refsect2 id="AS-TYPE-METADATA:CAPS" role="macro">
<title>AS_TYPE_METADATA</title>
<indexterm zone="AS-TYPE-METADATA:CAPS"><primary>AS_TYPE_METADATA</primary></indexterm>
<programlisting language="C">#define AS_TYPE_METADATA (as_metadata_get_type ())
</programlisting>
<para>
</para>
</refsect2>
<refsect2 id="AsMetadataClass" role="struct">
<title>struct AsMetadataClass</title>
<indexterm zone="AsMetadataClass"><primary>AsMetadataClass</primary></indexterm>
<programlisting language="C">struct AsMetadataClass {
	GObjectClass		parent_class;
};
</programlisting>
<para>
</para>
</refsect2>
<refsect2 id="AsFormatStyle" role="enum">
<title>enum AsFormatStyle</title>
<indexterm zone="AsFormatStyle"><primary>AsFormatStyle</primary></indexterm>
<para>There are a few differences between AppStream's metainfo files (shipped by upstream projects)
and the collection metadata (shipped by distributors).
The data source kind indicates which style we should process.
Usually you do not want to set this explicitly.</para>
<refsect3 id="AsFormatStyle.members" role="enum_members">
<title>Members</title>
<informaltable role="enum_members_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="enum_members_name" colwidth="300px"/>
<colspec colname="enum_members_description"/>
<colspec colname="enum_members_annotations" colwidth="200px"/>
<tbody>
<row role="constant"><entry role="enum_member_name"><para id="AS-FORMAT-STYLE-UNKNOWN:CAPS">AS_FORMAT_STYLE_UNKNOWN</para></entry>
<entry role="enum_member_description"></entry>
<entry role="enum_member_annotations"></entry>
</row>
<row role="constant"><entry role="enum_member_name"><para id="AS-FORMAT-STYLE-METAINFO:CAPS">AS_FORMAT_STYLE_METAINFO</para></entry>
<entry role="enum_member_description"><para>Parse AppStream upstream metadata (metainfo files)</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
<row role="constant"><entry role="enum_member_name"><para id="AS-FORMAT-STYLE-COLLECTION:CAPS">AS_FORMAT_STYLE_COLLECTION</para></entry>
<entry role="enum_member_description"><para>Parse AppStream metadata collections (shipped by software distributors)</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="AsFormatKind" role="enum">
<title>enum AsFormatKind</title>
<indexterm zone="AsFormatKind"><primary>AsFormatKind</primary></indexterm>
<para>Format of the AppStream metadata.</para>
<refsect3 id="AsFormatKind.members" role="enum_members">
<title>Members</title>
<informaltable role="enum_members_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="enum_members_name" colwidth="300px"/>
<colspec colname="enum_members_description"/>
<colspec colname="enum_members_annotations" colwidth="200px"/>
<tbody>
<row role="constant"><entry role="enum_member_name"><para id="AS-FORMAT-KIND-UNKNOWN:CAPS">AS_FORMAT_KIND_UNKNOWN</para></entry>
<entry role="enum_member_description"><para>Unknown metadata format.</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
<row role="constant"><entry role="enum_member_name"><para id="AS-FORMAT-KIND-XML:CAPS">AS_FORMAT_KIND_XML</para></entry>
<entry role="enum_member_description"><para>AppStream XML metadata.</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
<row role="constant"><entry role="enum_member_name"><para id="AS-FORMAT-KIND-YAML:CAPS">AS_FORMAT_KIND_YAML</para></entry>
<entry role="enum_member_description"><para>AppStream YAML (DEP-11) metadata.</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
<row role="constant"><entry role="enum_member_name"><para id="AS-FORMAT-KIND-DESKTOP-ENTRY:CAPS">AS_FORMAT_KIND_DESKTOP_ENTRY</para></entry>
<entry role="enum_member_description"><para>XDG Desktop Entry data.</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="AsFormatVersion" role="enum">
<title>enum AsFormatVersion</title>
<indexterm zone="AsFormatVersion"><primary>AsFormatVersion</primary></indexterm>
<para>Format version / API level of the AppStream metadata.</para>
<refsect3 id="AsFormatVersion.members" role="enum_members">
<title>Members</title>
<informaltable role="enum_members_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="enum_members_name" colwidth="300px"/>
<colspec colname="enum_members_description"/>
<colspec colname="enum_members_annotations" colwidth="200px"/>
<tbody>
<row role="constant"><entry role="enum_member_name"><para id="AS-FORMAT-VERSION-V0-6:CAPS">AS_FORMAT_VERSION_V0_6</para></entry>
<entry role="enum_member_description"><para>0.6</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
<row role="constant"><entry role="enum_member_name"><para id="AS-FORMAT-VERSION-V0-7:CAPS">AS_FORMAT_VERSION_V0_7</para></entry>
<entry role="enum_member_description"><para>0.7</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
<row role="constant"><entry role="enum_member_name"><para id="AS-FORMAT-VERSION-V0-8:CAPS">AS_FORMAT_VERSION_V0_8</para></entry>
<entry role="enum_member_description"><para>0.8</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
<row role="constant"><entry role="enum_member_name"><para id="AS-FORMAT-VERSION-V0-9:CAPS">AS_FORMAT_VERSION_V0_9</para></entry>
<entry role="enum_member_description"><para>0.9</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
<row role="constant"><entry role="enum_member_name"><para id="AS-FORMAT-VERSION-V0-10:CAPS">AS_FORMAT_VERSION_V0_10</para></entry>
<entry role="enum_member_description"><para>0.10</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="AS-CURRENT-FORMAT-VERSION:CAPS" role="macro">
<title>AS_CURRENT_FORMAT_VERSION</title>
<indexterm zone="AS-CURRENT-FORMAT-VERSION:CAPS"><primary>AS_CURRENT_FORMAT_VERSION</primary></indexterm>
<programlisting language="C">#define AS_CURRENT_FORMAT_VERSION AS_FORMAT_VERSION_V0_10
</programlisting>
<para>
</para>
</refsect2>
<refsect2 id="AsMetadataError" role="enum">
<title>enum AsMetadataError</title>
<indexterm zone="AsMetadataError"><primary>AsMetadataError</primary></indexterm>
<para>A metadata processing error.</para>
<refsect3 id="AsMetadataError.members" role="enum_members">
<title>Members</title>
<informaltable role="enum_members_table" pgwide="1" frame="none">
<tgroup cols="3">
<colspec colname="enum_members_name" colwidth="300px"/>
<colspec colname="enum_members_description"/>
<colspec colname="enum_members_annotations" colwidth="200px"/>
<tbody>
<row role="constant"><entry role="enum_member_name"><para id="AS-METADATA-ERROR-FAILED:CAPS">AS_METADATA_ERROR_FAILED</para></entry>
<entry role="enum_member_description"><para>Generic failure.</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
<row role="constant"><entry role="enum_member_name"><para id="AS-METADATA-ERROR-PARSE:CAPS">AS_METADATA_ERROR_PARSE</para></entry>
<entry role="enum_member_description"><para>Unable to parse the metadata file.</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
<row role="constant"><entry role="enum_member_name"><para id="AS-METADATA-ERROR-FORMAT-UNEXPECTED:CAPS">AS_METADATA_ERROR_FORMAT_UNEXPECTED</para></entry>
<entry role="enum_member_description"><para>Expected collection metadata but got metainfo metadata, or vice versa.</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
<row role="constant"><entry role="enum_member_name"><para id="AS-METADATA-ERROR-NO-COMPONENT:CAPS">AS_METADATA_ERROR_NO_COMPONENT</para></entry>
<entry role="enum_member_description"><para>We expected a component in the pool, but couldn't find one.</para>
</entry>
<entry role="enum_member_annotations"></entry>
</row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>
<refsect2 id="AS-METADATA-ERROR:CAPS" role="macro">
<title>AS_METADATA_ERROR</title>
<indexterm zone="AS-METADATA-ERROR:CAPS"><primary>AS_METADATA_ERROR</primary></indexterm>
<programlisting language="C">#define&#160;AS_METADATA_ERROR&#160;as_metadata_error_quark ()
</programlisting>
<para>
</para>
</refsect2>
<refsect2 id="AsMetadata-struct" role="struct">
<title>AsMetadata</title>
<indexterm zone="AsMetadata-struct"><primary>AsMetadata</primary></indexterm>
<programlisting language="C">typedef struct _AsMetadata AsMetadata;</programlisting>
<para>
</para>
</refsect2>

</refsect1>

</refentry>
