<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Firmware | AppStream | AppStream 0.15</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.0.0" /><meta name="product-name" content="AppStream" /><meta name="product-number" content="0.15" /><meta name="book-title" content="AppStream" /><meta name="chapter-title" content="2.11. Firmware" /><meta name="description" content="2.11.1 Introduction # Device firmware can be accompanied by AppStream upstream metadata, to be incorporated by a distribution. Tools like fwupd (https://github.com/hughsie/fwupd) make use of this metadata to automatically update flashed firmware of devices found in the machine. Additionally, this co…" /><link rel="home" href="index.html" title="AppStream" /><link rel="up" href="chap-Metadata.html" title="Chapter 2. Upstream Metadata" /><link rel="prev" href="sect-Metadata-InputMethod.html" title="2.10. Input Methods" /><link rel="next" href="sect-Metadata-Driver.html" title="2.12. Driver" />
<script src="static/js/highlight.min.js" type="text/javascript"></script><script>

document.addEventListener('DOMContentLoaded', (event) => {
  document.querySelectorAll('.verbatim-wrap.highlight').forEach((block) => {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="offline js-off"><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><a href="https://www.freedesktop.org/software/appstream/docs/"><img src="static/images/logo.png" alt="Logo" /><span>AppStream</span></a></div><div class="crumbs"><a class="book-link" href="index.html" title="AppStream"><span class="book-icon">AppStream</span></a><span> › </span><a class="crumb" href="chap-Metadata.html">Upstream Metadata</a><span> › </span><a class="crumb" href="sect-Metadata-Firmware.html" accesskey="c"><span class="single-contents-icon"></span>Firmware</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>AppStream</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="chap-AppStream-About.html"><span class="number">1 </span><span class="name">About AppStream</span></a></li><li class="inactive"><a href="chap-Metadata.html"><span class="number">2 </span><span class="name">Upstream Metadata</span></a></li><li class="inactive"><a href="chap-CollectionData.html"><span class="number">3 </span><span class="name">Collection Metadata</span></a></li><li class="inactive"><a href="chap-AppStream-Misc.html"><span class="number">4 </span><span class="name">Miscellaneous</span></a></li><li class="inactive"><a href="chap-Quickstart.html"><span class="number">5 </span><span class="name">Metadata Quickstart</span></a></li><li class="inactive"><a href="chap-AppStream-ManualPages.html"><span class="number">6 </span><span class="name">Manual pages</span></a></li><li class="inactive"><a href="chap-AppStream-API.html"><span class="number">7 </span><span class="name">AppStream API Reference</span></a></li><li class="inactive"><a href="ix01.html"><span class="number"> </span><span class="name">Index</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="2.10. Input Methods" href="sect-Metadata-InputMethod.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="2.12. Driver" href="sect-Metadata-Driver.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="AppStream"><span class="book-icon">AppStream</span></a><span> › </span><a class="crumb" href="chap-Metadata.html">Upstream Metadata</a><span> › </span><a class="crumb" href="sect-Metadata-Firmware.html" accesskey="c"><span class="single-contents-icon"></span>Firmware</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="2.10. Input Methods" href="sect-Metadata-InputMethod.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="2.12. Driver" href="sect-Metadata-Driver.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class=""><div class="documentation"><div class="sect1" id="sect-Metadata-Firmware"><div class="titlepage"><div><div><h2 class="title" id="sect-Metadata-Firmware"><span class="number">2.11 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Firmware</span> <a title="Permalink" class="permalink" href="sect-Metadata-Firmware.html">#</a></h2></div></div></div><div class="sect2" id="spec-firmware-introduction"><div class="titlepage"><div><div><h3 class="title" id="spec-firmware-introduction"><span class="number">2.11.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Introduction</span> <a title="Permalink" class="permalink" href="sect-Metadata-Firmware.html#spec-firmware-introduction">#</a></h3></div></div></div><p>
			Device firmware can be accompanied by AppStream upstream metadata, to be incorporated
			by a distribution. Tools like <a class="ulink" href="https://github.com/hughsie/fwupd" target="_blank">fwupd<span class="ulink-url"> (https://github.com/hughsie/fwupd)</span></a> make
			use of this metadata to automatically update flashed firmware of devices found in the machine.
			Additionally, this component type can also be used for firmware which is loaded onto the device at runtime.
		</p><p>
			Firmware can ship one or more files in <code class="filename">/usr/share/metainfo/%{id}.metainfo.xml</code>.
		</p></div><div class="sect2" id="spec-firmware-example"><div class="titlepage"><div><div><h3 class="title" id="spec-firmware-example"><span class="number">2.11.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Example file</span> <a title="Permalink" class="permalink" href="sect-Metadata-Firmware.html#spec-firmware-example">#</a></h3></div></div></div><p>
			A firmware meta-info file should look like this:
		</p><div class="verbatim-wrap highlight XML"><pre class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;component type="firmware"&gt;
  &lt;id&gt;com.hughski.ColorHug2.firmware&lt;/id&gt;
  &lt;name&gt;ColorHugALS Firmware&lt;/name&gt;
  &lt;summary&gt;Firmware for the ColorHugALS Ambient Light Sensor&lt;/summary&gt;
  &lt;description&gt;
    &lt;p&gt;
      Updating the firmware on your ColorHugALS device improves performance and
      adds new features.
    &lt;/p&gt;
  &lt;/description&gt;
  &lt;url type="homepage"&gt;http://www.hughski.com/&lt;/url&gt;
  &lt;metadata_license&gt;CC0-1.0&lt;/metadata_license&gt;
  &lt;project_license&gt;GPL-2.0+&lt;/project_license&gt;
  &lt;developer_name&gt;Hughski Limited&lt;/developer_name&gt;
  &lt;provides&gt;
    &lt;firmware type="flashed"&gt;84f40464-9272-4ef7-9399-cd95f12da696&lt;/firmware&gt;
  &lt;/provides&gt;
  &lt;releases&gt;
    &lt;release version="3.0.2" date="2015-02-16"&gt;
      &lt;artifacts&gt;
        &lt;artifact type="binary"&gt;
          &lt;location&gt;http://www.hughski.com/downloads/colorhug-als/firmware/colorhug-als-3.0.2.cab&lt;/location&gt;
        &lt;/artifact&gt;
      &lt;/artifacts&gt;
      &lt;description&gt;
        &lt;p&gt;This stable release fixes the following bugs:&lt;/p&gt;
        &lt;ul&gt;
          &lt;li&gt;Fix the return code from GetHardwareVersion&lt;/li&gt;
          &lt;li&gt;Scale the output of TakeReadingRaw by the datasheet values&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/description&gt;
    &lt;/release&gt;
  &lt;/releases&gt;
&lt;/component&gt;</pre></div><p>
			You can find additional information on how to create a complete firmware package for flashed firmware upstream in
			the <a class="ulink" href="https://github.com/hughsie/fwupd/blob/master/README.md" target="_blank">README document of fwupd<span class="ulink-url"> (https://github.com/hughsie/fwupd/blob/master/README.md)</span></a>.
		</p></div><div class="sect2" id="spec-firmware-filespec"><div class="titlepage"><div><div><h3 class="title" id="spec-firmware-filespec"><span class="number">2.11.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">File specification</span> <a title="Permalink" class="permalink" href="sect-Metadata-Firmware.html#spec-firmware-filespec">#</a></h3></div></div></div><p>
			Note that the XML root must have the <code class="literal">type</code> property set to <code class="code">firmware</code>.
			This clearly identifies this metainfo document as describing firmware.
		</p><div class="variablelist"><dl class="variablelist"><dt id="tag-id-firmware"><span class="term">&lt;id/&gt;</span> <a title="Permalink" class="permalink" href="sect-Metadata-Firmware.html#tag-id-firmware">#</a></dt><dd><p>
					For firmware, the value of the <code class="code">&lt;id/&gt;</code> tag must follow the reverse-DNS scheme as described for generic components.
					It is sometimes useful to suffix the ID with <code class="literal">.firmware</code> to make it more unique.
					For example <code class="code">com.hughski.ColorHug2.firmware</code>.
				</p></dd><dt id="tag-firmware-releases"><span class="term">&lt;releases/&gt;</span> <a title="Permalink" class="permalink" href="sect-Metadata-Firmware.html#tag-firmware-releases">#</a></dt><dd><p>
					This tag is identical to the generic <a class="xref" href="chap-Metadata.html#tag-releases">&lt;releases/&gt;</a> tag.
					Additional to the generic tag, for each <code class="code">&lt;release/&gt;</code> child at least one <code class="code">&lt;artifact/&gt;</code> tag is required in case the component describes
					flashed firmware.
				</p><p>
					The <code class="code">&lt;location/&gt;</code> tag of the binary artifact specifies a remote location where the firmware <code class="literal">.cab</code> can be downloaded from.
					The download location needs to be accessible via HTTP, HTTPS or FTP.
				</p><p>
					Example:
				</p><div class="verbatim-wrap highlight XML"><pre class="programlisting">&lt;releases&gt;
  &lt;release version="3.0.2" date="2015-02-16"&gt;
    &lt;artifacts&gt;
      &lt;artifact type="binary"&gt;
        &lt;location&gt;http://www.hughski.com/downloads/colorhug-als/firmware/colorhug-als-3.0.2.cab&lt;/location&gt;
      &lt;/artifact&gt;
    &lt;/artifacts&gt;
    &lt;description&gt;
      &lt;p&gt;This stable release fixes bugs.&lt;/p&gt;
    &lt;/description&gt;
  &lt;/release&gt;
&lt;/releases&gt;</pre></div></dd><dt id="tag-firmware-provides"><span class="term">&lt;provides/&gt; ↪ &lt;firmware/&gt;</span> <a title="Permalink" class="permalink" href="sect-Metadata-Firmware.html#tag-firmware-provides">#</a></dt><dd><p>
					The <code class="literal">provides/firmware</code> tag describes the technical information needed to associate a firmware with a device, or describes
					which runtime firmware file it makes available to the kernel.
				</p><p>
					For runtime-loadable firmware, the <code class="literal">type</code> property of the <code class="literal">firmware</code> tag needs to be set to <code class="code">runtime</code>,
					and its value needs to define the filename of a firmware below <code class="filename">/lib/firmware</code> to the firmware file in question,
					like the firmware value exported from Linux kernel modules.
				</p><p>
					Example:
				</p><div class="verbatim-wrap highlight XML"><pre class="programlisting">&lt;provides&gt;
  &lt;firmware type="runtime"&gt;ipw2200-bss.fw&lt;/firmware&gt;
&lt;/provides&gt;</pre></div><p>
					For flashed firmware, the <code class="literal">type</code> property of the tag needs to be set to <code class="code">flashed</code>.
					Its value needs to define the GUID of the device the firmware should be flashed onto.
				</p><p>
					Example:
				</p><div class="verbatim-wrap highlight XML"><pre class="programlisting">&lt;provides&gt;
  &lt;firmware type="flashed"&gt;84f40464-9272-4ef7-9399-cd95f12da696&lt;/firmware&gt;
&lt;/provides&gt;</pre></div></dd></dl></div><p>
			For a component of type <code class="literal">firmware</code>, the following tags are required and must be present for a valid document:
			<a class="xref" href="sect-Metadata-Firmware.html#tag-id-firmware">&lt;id/&gt;</a>, <a class="xref" href="chap-Metadata.html#tag-name">&lt;name/&gt;</a>, <a class="xref" href="chap-Metadata.html#tag-summary">&lt;summary/&gt;</a>,
			<a class="xref" href="chap-Metadata.html#tag-metadata_license">&lt;metadata_license/&gt;</a>, <a class="xref" href="sect-Metadata-Firmware.html#tag-firmware-provides">&lt;provides/&gt; ↪ &lt;firmware/&gt;</a>.
		</p></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="sect-Metadata-Driver.html"><span class="next-icon">→</span><span class="nav-label">Driver</span></a><a class="nav-link" href="sect-Metadata-InputMethod.html"><span class="prev-icon">←</span><span class="nav-label">Input Methods</span></a></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2022 
        Freedesktop.org, the AppStream Project</p></div></div></body></html>