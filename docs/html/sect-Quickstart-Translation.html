<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Translating Metadata | AppStream | AppStream 0.15</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.0.0" /><meta name="product-name" content="AppStream" /><meta name="product-number" content="0.15" /><meta name="book-title" content="AppStream" /><meta name="chapter-title" content="5.4. Translating Metadata" /><meta name="description" content="5.4.1 Introduction # Most AppStream metadata can be translated, This page contains some practical instructions how to translate the metadata. Note: For KDE developers If you are a KDE developer and using the KDE infrastructure with it's localization support, you need to do nothing to get translated …" /><link rel="home" href="index.html" title="AppStream" /><link rel="up" href="chap-Quickstart.html" title="Chapter 5. Metadata Quickstart" /><link rel="prev" href="sect-Quickstart-Distros.html" title="5.3. For distributors packaging Appstream metadata" /><link rel="next" href="chap-AppStream-ManualPages.html" title="Chapter 6. Manual pages" />
<script src="static/js/highlight.min.js" type="text/javascript"></script><script>

document.addEventListener('DOMContentLoaded', (event) => {
  document.querySelectorAll('.verbatim-wrap.highlight').forEach((block) => {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="offline js-off"><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><a href="https://www.freedesktop.org/software/appstream/docs/"><img src="static/images/logo.png" alt="Logo" /><span>AppStream</span></a></div><div class="crumbs"><a class="book-link" href="index.html" title="AppStream"><span class="book-icon">AppStream</span></a><span> › </span><a class="crumb" href="chap-Quickstart.html">Metadata Quickstart</a><span> › </span><a class="crumb" href="sect-Quickstart-Translation.html" accesskey="c"><span class="single-contents-icon"></span>Translating Metadata</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>AppStream</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="chap-AppStream-About.html"><span class="number">1 </span><span class="name">About AppStream</span></a></li><li class="inactive"><a href="chap-Metadata.html"><span class="number">2 </span><span class="name">Upstream Metadata</span></a></li><li class="inactive"><a href="chap-CollectionData.html"><span class="number">3 </span><span class="name">Collection Metadata</span></a></li><li class="inactive"><a href="chap-AppStream-Misc.html"><span class="number">4 </span><span class="name">Miscellaneous</span></a></li><li class="inactive"><a href="chap-Quickstart.html"><span class="number">5 </span><span class="name">Metadata Quickstart</span></a></li><li class="inactive"><a href="chap-AppStream-ManualPages.html"><span class="number">6 </span><span class="name">Manual pages</span></a></li><li class="inactive"><a href="chap-AppStream-API.html"><span class="number">7 </span><span class="name">AppStream API Reference</span></a></li><li class="inactive"><a href="ix01.html"><span class="number"> </span><span class="name">Index</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="5.3. For distributors packaging Appstream metadata" href="sect-Quickstart-Distros.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 6. Manual pages" href="chap-AppStream-ManualPages.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="AppStream"><span class="book-icon">AppStream</span></a><span> › </span><a class="crumb" href="chap-Quickstart.html">Metadata Quickstart</a><span> › </span><a class="crumb" href="sect-Quickstart-Translation.html" accesskey="c"><span class="single-contents-icon"></span>Translating Metadata</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="5.3. For distributors packaging Appstream metadata" href="sect-Quickstart-Distros.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 6. Manual pages" href="chap-AppStream-ManualPages.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class=""><div class="documentation"><div class="sect1" id="sect-Quickstart-Translation"><div class="titlepage"><div><div><h2 class="title" id="sect-Quickstart-Translation"><span class="number">5.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Translating Metadata</span> <a title="Permalink" class="permalink" href="sect-Quickstart-Translation.html">#</a></h2></div></div></div><div class="sect2" id="qsr-l10n-introduction"><div class="titlepage"><div><div><h3 class="title" id="qsr-l10n-introduction"><span class="number">5.4.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Introduction</span> <a title="Permalink" class="permalink" href="sect-Quickstart-Translation.html#qsr-l10n-introduction">#</a></h3></div></div></div><p>
			Most AppStream metadata can be translated, This page contains some practical instructions how to translate the
			metadata.
		</p><div id="id-1.6.6.2.3" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: For KDE developers</h6><p>
				If you are a KDE developer and using the KDE infrastructure with it's localization support, you need to do nothing
				to get translated metadata. Just place your <code class="filename">*.metainfo.xml*</code> (or <code class="filename">*.appdata.xml*</code> file)
				at a sane place, and the l10n-script will translate the file in-place automatically.
			</p></div></div><div class="sect2" id="qsr-l10n-intltool"><div class="titlepage"><div><div><h3 class="title" id="qsr-l10n-intltool"><span class="number">5.4.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Translating using Intltool</span> <a title="Permalink" class="permalink" href="sect-Quickstart-Translation.html#qsr-l10n-intltool">#</a></h3></div></div></div><p>
			If you ship an <code class="filename">.xml.in</code> file rather than an <code class="filename">.xml</code> file, you can use Intltool to translate the data.
		</p><p>
			Each translatable element in the <code class="filename">.xml.in</code> file needs to be prefixed with an underscore (<code class="code">_</code>) to be marked as translatable.
			This should include the <code class="code">name</code>,  <code class="code">summary</code>, and <code class="code">caption</code> tags, as well as each paragraph in the
			<code class="code">description</code>. Apart from that, the same specifications apply to this file as for any other AppStream metadata.
		</p><p>
			To translate the appstream data, first add the <code class="filename">.xml.in</code> file to <code class="filename">po/POTFILES.in</code>, along with any other
			translatable files. Then create the translation template file <code class="filename">&lt;package name&gt;.pot</code>.
		</p><div class="verbatim-wrap highlight Bash"><pre class="programlisting">cd po; intltool-update --pot --gettext-package=&lt;package name&gt;</pre></div><p>
			For each supported language, copy the template file to <code class="filename">po/&lt;language&gt;-[&lt;COUNTRY&gt;].po</code>, where
			<code class="filename">po/&lt;language&gt;</code> and the optional <code class="filename">po/&lt;COUNTRY&gt;</code> are standard two-letter codes.
			Edit the file to add translated strings.
		</p><p>
			As the translatable content is updated, recreate the template file, and update the <code class="filename">.po</code> files.
		</p><div class="verbatim-wrap highlight Bash"><pre class="programlisting">cd po; intltool-update --dist --gettext-package=&lt;package name&gt; &lt;language&gt;</pre></div><p>
			Create the translated <code class="filename">.xml</code> with the following command.
		</p><div class="verbatim-wrap highlight Bash"><pre class="programlisting">intltool-merge -u -c ./po/.intltool-merge-cache ./po -x &lt;file&gt;.xml.in &lt;file&gt;.xml</pre></div><div class="sect3" id="qsr-l10n-intltool-autotools"><div class="titlepage"><div><div><h4 class="title" id="qsr-l10n-intltool-autotools"><span class="number">5.4.2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Integrating with Autotools (the AppStream way)</span> <a title="Permalink" class="permalink" href="sect-Quickstart-Translation.html#qsr-l10n-intltool-autotools">#</a></h4></div></div></div><p>
				The generic way to add translation to your AppStream metadata in case you use Autotools is by using
				the following code snippet:
			</p><div class="verbatim-wrap highlight Makefile"><pre class="programlisting">appstreamdir = $(datadir)/metainfo/
appstream_in_files = gedit.metainfo.xml.in
appstream_DATA = $(appstream_in_files:.xml.in=.xml)
@INTLTOOL_XML_RULE@
EXTRA_DIST = $(metainfo_in_files)
CLEANFILES = $(appstream_DATA)</pre></div><p>
				The code assumes you are using the Intltool Automake code.
			</p></div><div class="sect3" id="qsr-l10n-intltool-autotools-asglib"><div class="titlepage"><div><div><h4 class="title" id="qsr-l10n-intltool-autotools-asglib"><span class="number">5.4.2.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Integrating with Autotools (the AppStream-GLib way)</span> <a title="Permalink" class="permalink" href="sect-Quickstart-Translation.html#qsr-l10n-intltool-autotools-asglib">#</a></h4></div></div></div><p>
				In case you want to use the macro provided by the AppStream-GLib library, you can use this code snippet:
			</p><div class="verbatim-wrap highlight Makefile"><pre class="programlisting">@APPSTREAM_XML_RULES@
appstream_in_files = gedit.metainfo.xml.in
appstream_XML = $(appstream_in_files:.xml.in=.xml)
@INTLTOOL_XML_RULE@
EXTRA_DIST = $(metainfo_in_files)
CLEANFILES = $(appstream_XML)</pre></div><p>
				Make sure you have the additional AppStream macro installed.
			</p></div></div><div class="sect2" id="qsr-l10n-itstool"><div class="titlepage"><div><div><h3 class="title" id="qsr-l10n-itstool"><span class="number">5.4.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Translating using Itstool</span> <a title="Permalink" class="permalink" href="sect-Quickstart-Translation.html#qsr-l10n-itstool">#</a></h3></div></div></div><p>
			You can also use Itstool for translation. In order to translate an XML file with it, you need an <code class="filename">.its</code> file with translation definitions.
			An appropriate file for AppStream upstream metadata of any kind can be found here:
		</p><div class="verbatim-wrap highlight XML"><pre class="programlisting">
&lt;its:rules
  xmlns:its="http://www.w3.org/2005/11/its"
  version="1.0"&gt;
  &lt;its:translateRule translate="no" selector="/component"/&gt;
  &lt;its:translateRule translate="yes"
    selector="/component/name | /component/summary |
    /component/description | /component/screenshots/screenshot/caption | /component/developer_name"/&gt;
&lt;/its:rules&gt;
</pre></div><p>
			Save this file as <code class="filename">as-metainfo.its</code> for example.
		</p><p>
			To extract a GNU Gettext <code class="filename">.pot</code> file from your XML file, run itstool with the follwing arguments (replacing "foo" with
			your project name):
		</p><div class="verbatim-wrap highlight Bash"><pre class="programlisting">itstool -i as-metainfo.its -o $podir/foo_metadata.pot data/foo.metainfo.xml</pre></div><p>
			You can then translate the <code class="filename">.pot</code> file using the standard methods for translating files like these. You obtain
			<code class="filename">.po</code> files, which you can convert into <code class="filename">.mo</code> files (using msgfmt) like you would do with any
			other localization. Then, you need to call <code class="command">itstool</code> again, to create a translated version of the original XML file:
		</p><div class="verbatim-wrap highlight Bash"><pre class="programlisting">itstool -i as-metainfo.its -j data/foo.metainfo.xml -o output/foo.metainfo.xml $modir/*.mo</pre></div><p>
			Please ensure that the <code class="filename">.mo</code> files in <code class="filename">$modir</code> are named with their language codes.
		</p><div id="id-1.6.6.4.10" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note</h6><p>
				You can find more information about Itstool <a class="ulink" href="http://itstool.org/" target="_blank">on their homepage<span class="ulink-url"> (http://itstool.org/)</span></a>.
			</p></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="chap-AppStream-ManualPages.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 6 </span>Manual pages</span></a><a class="nav-link" href="sect-Quickstart-Distros.html"><span class="prev-icon">←</span><span class="nav-label">For distributors packaging Appstream metadata</span></a></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2021 
        Freedesktop.org, the AppStream Project</p></div></div></body></html>